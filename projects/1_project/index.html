<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Item-Based-Recommendation System | Grant Chen</title> <meta name="author" content="Grant Chen"> <meta name="description" content="Deploy Unsupervised Item-Based Recommendation Model for the exhibition industry, leveraging Sentence-BERT to extract valuable information from product text descriptions"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/uchicago-logo.png?30d3e08a02abc1a93409665568428312"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://ywchen814.github.io/projects/1_project/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Grant </span><span class="font-weight-bold">Chen </span></a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/skills/">Technical Skills</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">Resume</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Item-Based-Recommendation System</h1> <p class="post-description">Deploy Unsupervised Item-Based Recommendation Model for the exhibition industry, leveraging Sentence-BERT to extract valuable information from product text descriptions</p> </header> <article> <h1 id="exporecsys-item-recommendation-with-flask-api-and-elasticsearch">ExpoRecSys-Item-Recommendation-with-Flask-API-and-Elasticsearch</h1> <h2 id="objective">Objective</h2> <p>ExpoRecSys is a powerful item recommendation system designed for the dynamic exhibition industry. This GitHub project provides a comprehensive solution that combines Flask API for deploying the recommendation model and Elasticsearch for efficient text data storage and retrieval. With ExpoRecSys, attendees can effortlessly explore and discover products that align with their interests, thereby enhancing their exhibition experience while also boosting manufacturers’ revenue.</p> <h2 id="technical-features">Technical Features</h2> <ul> <li>Utilization of <strong>Sentence-BERT</strong> for semantic search and generating similar product recommendations</li> <li>Implementation of <strong>Unsupervised Learning</strong> techniques for building effective recommendation models</li> <li> <strong>Flask API</strong> for deploying the item-based recommendation model</li> <li> <strong>Elasticsearch</strong> integration for efficient text data storage and retrieval</li> </ul> <h2 id="how-to-use-exporecsys">How to Use ExpoRecSys</h2> <ol> <li>Pull the Elasticsearch Docker image: <code class="language-plaintext highlighter-rouge">docker pull docker.elastic.co elasticsearch/elasticsearch:8.8.2</code> </li> <li>Create a Docker network: <code class="language-plaintext highlighter-rouge">docker network create elastic</code> </li> <li>Run the Elasticsearch container: <code class="language-plaintext highlighter-rouge">docker run --name es --net elastic -p 9200:9200 -it docker.elastic.co/elasticsearch/elasticsearch:8.8.2</code><br> If error, set the required system configuration: <code class="language-plaintext highlighter-rouge">sudo sysctl -w vm.max_map_count=262144</code> and rerun again.</li> <li>Copy the http_ca.crt security certificate from your Docker container to your local machine:<br> <code class="language-plaintext highlighter-rouge">docker cp es01:/usr/share/elasticsearch/config/certs/http_ca.crt</code> </li> <li>Record the password and update the <code class="language-plaintext highlighter-rouge">ELASTIC_PASSWORD</code> variable in both <code class="language-plaintext highlighter-rouge">es.py</code> and <code class="language-plaintext highlighter-rouge">es_store_data.py</code> </li> <li>Start the Elasticsearch container: <code class="language-plaintext highlighter-rouge">docker start es</code> </li> <li>Install the required Python dependencies: <code class="language-plaintext highlighter-rouge">pip install -r requirements.txt</code> or <code class="language-plaintext highlighter-rouge">conda env create -f ./environment.yml</code> </li> <li>Run <code class="language-plaintext highlighter-rouge">api.py</code> to start the Flask API server: <code class="language-plaintext highlighter-rouge">python api.py</code> </li> </ol> <h3 id="data-preprocessing">Data Preprocessing</h3> <p>Before using ExpoRecSys, you need to preprocess the data into a dictionary format and generate embeddings from text information. Follow these steps:</p> <ol> <li>Open <code class="language-plaintext highlighter-rouge">Data-Preprocessing.ipynb</code> </li> <li>Execute the notebook and load the data to <ul> <li>preprocess the data and store it into <code class="language-plaintext highlighter-rouge">./data</code> in dictionary format</li> <li>generate embeddings using Sentence-BERT and store it into <code class="language-plaintext highlighter-rouge">./embedding</code> </li> </ul> </li> <li>run <code class="language-plaintext highlighter-rouge">es_store_data.py</code> to load data from <code class="language-plaintext highlighter-rouge">./data</code> with a dictionary format and store it in Elasticsearch: <code class="language-plaintext highlighter-rouge">python es_store_data.py</code> </li> </ol> <h2 id="api-documentation">API Documentation</h2> <p>ExpoRecSys API provides various endpoints to interact with the recommendation system and search for products using different methods.</p> <p><strong>Base URL:</strong> <code class="language-plaintext highlighter-rouge">http://127.0.0.1:5000/</code></p> <p><strong>General Notes:</strong></p> <ul> <li>Please ensure all data is sent in JSON format for all endpoints.</li> <li>The server will respond with JSON data for each endpoint.</li> </ul> <h3 id="search-product-by-id">Search Product by ID</h3> <h4 id="search_by_id-post"> <code class="language-plaintext highlighter-rouge">/search_by_id</code> (POST)</h4> <p><strong>Description:</strong> Given a product ID, this endpoint searches for the product in Elasticsearch and returns its information.</p> <p><strong>Request:</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CU0103347409"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>Response:</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"適合用於修補用途"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Description_en"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Suitable to be used in mending purpose mainly in agricultural sector."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Product_Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PE 修補膠帶"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Product_Name_en"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PE repair tape"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"Product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CU0004601801"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h3 id="recommend-products-by-id">Recommend Products by ID</h3> <h4 id="recommend_by_id-post"> <code class="language-plaintext highlighter-rouge">/recommend_by_id</code> (POST)</h4> <p><strong>Description:</strong> Given a product ID, this endpoint returns the top recommended products along with their similarity scores.</p> <p><strong>Request:</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CU0103347409"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>Response:</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CU0004601803"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.856</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div> <h3 id="recommend-products-by-keywords">Recommend Products by Keywords</h3> <h4 id="recommend_by_keywords-post"> <code class="language-plaintext highlighter-rouge">/recommend_by_keywords</code> (POST)</h4> <p><strong>Description:</strong> Given keywords, this endpoint returns the top recommended products related to the provided keywords, along with their similarity scores.</p> <p><strong>Request:</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tape"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>Response:</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CU0004601803"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.856</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CU0004601804"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"Score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.492</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div> <h3 id="recommend-products-by-keywords-using-elasticsearch">Recommend Products by Keywords using Elasticsearch</h3> <h4 id="recommend_by_keywords_es--post"> <code class="language-plaintext highlighter-rouge">recommend_by_keywords_es</code> (POST)</h4> <p><strong>Description:</strong> Given keywords, this endpoint uses Elasticsearch to search for products related to the keywords and returns the top recommended product IDs.</p> <p><strong>Request:</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"Keywords"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tape"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p><strong>Response:</strong></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CU0004601803"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"Product_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CU0004601804"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div> <h3 id="note">Note</h3> <ul> <li>For endpoints /recommend_by_id, /recommend_by_keywords, and /recommend_by_keywords_es, the returned products are sorted in descending order of similarity scores.</li> <li>For endpoint /search_by_id, if the product with the given ID is not found, an empty response will be returned.</li> <li>Please ensure that you send the appropriate JSON request to the respective endpoints and handle the responses accordingly.</li> </ul> <h2 id="file-structure">File Structure</h2> <ul> <li> <code class="language-plaintext highlighter-rouge">api.py</code>: Implement the Flask API with endpoints for item recommendation and product search</li> <li> <code class="language-plaintext highlighter-rouge">Data-Preprocessing.ipynb</code>: Preprocess data into dictionary format and generate embeddings using Sentence-BERT</li> <li> <code class="language-plaintext highlighter-rouge">es.py</code>: Contain functions to connect to Elasticsearch, perform product searches based on keywords</li> <li> <code class="language-plaintext highlighter-rouge">es_store_data.py</code>: Load data from <code class="language-plaintext highlighter-rouge">data/</code> in a dictionary format and store it in Elasticsearch</li> <li> <code class="language-plaintext highlighter-rouge">utils.py</code>: Provide utility functions for the recommendation model, including Recommending Top-K, Embedding Normalization, Loading Tensor Embeddings</li> <li> <code class="language-plaintext highlighter-rouge">data/</code>: Directory to store data in a dictionary format for immediate storage in Elasticsearch</li> <li> <code class="language-plaintext highlighter-rouge">embedding/</code>: Directory to store product name and description embeddings transformed from Sentence-BERT</li> </ul> <h2 id="dataset-attributes">Dataset Attributes</h2> <ul> <li>Product_id: The unique ID of the product.</li> <li>Product_Name: The name or title of the product in Chinese.</li> <li>Vendor_id: The unique ID of the vendor.</li> <li>Main_Category: The main category or exhibition type of the product.</li> <li>Sub_Category: The sub-category or specific category of the product.</li> <li>Description: The text description of the product in Chinese.</li> <li>Product_Name_en: The name or title of the product in English.</li> <li>Description_en: The text description of the product in English.</li> </ul> <h2 id="contact">Contact</h2> <p>For any questions or inquiries, feel free to reach out to <a href="grant19990814@gmail.com">grant19990814@gmail.com</a>.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/1-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/1-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/1-1400.webp"></source> <img src="/assets/img/1.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/3-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/3-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/3-1400.webp"></source> <img src="/assets/img/3.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/5-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/5-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/5-1400.webp"></source> <img src="/assets/img/5.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Caption photos easily. On the left, a road goes through a tunnel. Middle, leaves artistically fall in a hipster photoshoot. Right, in another hipster photoshoot, a lumberjack grasps a handful of pine needles. </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/5-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/5-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/5-1400.webp"></source> <img src="/assets/img/5.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> This image can also have a caption. It's like magic. </div> <p>You can also put regular text between your rows of images. Say you wanted to write a little bit about your project before you posted the rest of the images. You describe how you toiled, sweated, <em>bled</em> for your project, and then… you reveal its glory in the next row of images.</p> <div class="row justify-content-sm-center"> <div class="col-sm-8 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/6-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/6-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/6-1400.webp"></source> <img src="/assets/img/6.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm-4 mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/11-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/11-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/11-1400.webp"></source> <img src="/assets/img/11.jpg" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="example image" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> You can also have artistically styled 2/3 + 1/3 images, like these. </div> <p>The code is simple. Just wrap your images with <code class="language-plaintext highlighter-rouge">&lt;div class="col-sm"&gt;</code> and place them inside <code class="language-plaintext highlighter-rouge">&lt;div class="row"&gt;</code> (read more about the <a href="https://getbootstrap.com/docs/4.4/layout/grid/" rel="external nofollow noopener" target="_blank">Bootstrap Grid</a> system). To make images responsive, add <code class="language-plaintext highlighter-rouge">img-fluid</code> class to each; for rounded corners and shadows use <code class="language-plaintext highlighter-rouge">rounded</code> and <code class="language-plaintext highlighter-rouge">z-depth-1</code> classes. Here’s the code for the last row of images above:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row justify-content-sm-center"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-sm-8 mt-3 mt-md-0"</span><span class="nt">&gt;</span>
        {% include figure.html path="assets/img/6.jpg" title="example image" class="img-fluid rounded z-depth-1" %}
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-sm-4 mt-3 mt-md-0"</span><span class="nt">&gt;</span>
        {% include figure.html path="assets/img/11.jpg" title="example image" class="img-fluid rounded z-depth-1" %}
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div> </article> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> © Copyright 2023 Grant Chen. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>